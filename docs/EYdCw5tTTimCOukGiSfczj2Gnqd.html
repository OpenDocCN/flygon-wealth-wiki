<h1>DIN：全程白嫖 - 拥有一个AI大模型的微信助手</h1>
<blockquote>来源：<a href="https://waytoagi.feishu.cn/docx/TQxQdzumToejbVxc0O4ceUwYnwg">https://waytoagi.feishu.cn/docx/TQxQdzumToejbVxc0O4ceUwYnwg</a></blockquote>
<p>作者：丁先生</p>
<p>原文：</p>
<h2>这有什么用？</h2>
<p>一个能帮你解答任何问题的AI机器人，你可以将其接入到微信或群聊中，为用户提供自动答疑服务。你还可以投喂它特定知识，成为你的客服、专业老师或知识备忘录。</p>
<p>搭建内容：</p>
<p>完成上面3步就算OK了，那我们正式开始。</p>
<h2>准备工作</h2>
<h3>领免费云服务器</h3>
<h3>领免费大模型接口</h3>
<h2>搭建FastGpt、OneAPI</h2>
<p>我之前申请了一台免费的腾讯云，下面我就在腾讯云的服务器上操作，阿里云的菜单位置可能不太一样，对应的找下就行，操作步骤完成一样哦。</p>
<p><img src="img/7467e9bbabd50f2c1ab4211be0093094.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/TvEybgifDoR552xFMLMcjgyrnle/"/></p>
<p><img src="img/d887f6b66e1d42407301059138708460.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/SRcXbdDIMo4d5FxERm4cxruOnnf/"/></p>
<p><img src="img/d44c5217e3019be664dbaf433e737738.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/XALSbrMNkoAFyrxxiMWcSkddnUg/"/></p>
<p><img src="img/815f9912f5527dd98438865d377a0bfc.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/OUuXbnFdKoDTAFxHRhccbdA7nUf/"/></p>
<p><img src="img/b35826678c61fc74ce2168bd632add21.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/G8CKbKPbcoNTsaxKCMccG0wKnkf/"/></p>
<p>有时候网络的问题，可手动创建一个fastgpt目录，并下载2个链接的文件，手动上传上去也行的（看截图中有“新建”“上传”按钮，可手动完成）</p>
<p><img src="img/8f3053d141f14b7f8ed0680e157f2497.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/DV06bs7Y4o1opTxAao6cFQgdnne/"/></p>
<p>执行成功会显示如下图。首次执行docker-compose pull可能会需要点时间，他会下载“mongo”“pg”“fastgpt”这几个项目。</p>
<p><img src="img/984c301720b955795554c2a61c4e91b3.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/XZkUbkSw7okfKoxxusCcKaTQnBb/"/></p>
<p><img src="img/ee890a436e5c30a9729bb17c7c007463.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/IAzpbDCttoNsuAxISDdc2LTSnlb/"/></p>
<p><img src="img/7de89bd16394291675c2cf27349e5e74.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/WVtxbHkDJoYE9FxK8E3c21bxnXb/"/></p>
<h2>配置FastGpt、OneAPI</h2>
<p><img src="img/7f10615a6b3319f3143534dfe53ccfd3.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/LVptb1jpGoaxNUxFxcJcqZ3Cnab/"/></p>
<p>添加时，类型选择阿里通义千问，名称自己取个，类型选择好后模型是会默认加进去，你不用删减，还有就把刚刚阿里那复制的ApiKey粘贴到秘钥里去。这样就OK了。后续有其他的大模型也是一样的添加方式。</p>
<p><img src="img/ac1efc73e16fc175b7e02579a826f0c9.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/M6dEb6fgBolmu5xAgGkc6qeun9e/"/></p>
<p><img src="img/3112bbd4fc8cfcb64bd46745e2ed26a9.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Uhq0bXIvkoBrK4xYgf8cajf5nlh/"/></p>
<p>这里名称可以自己取个，时间设为永不过期、额度设为无限额度。提交OK。</p>
<p><img src="img/63adce5339cdb080eda160e3f7e076fb.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/IVm8b7Zq9oXF6axJ6DOcV25inKc/"/></p>
<p>这时【令牌】中就有你添加的了，点击复制，得到令牌。</p>
<p><img src="img/efcd7f2828fe60b2e93d8c813cf67313.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Jt1db5kksocc2DxjdyicEfU5nof/"/></p>
<p><img src="img/97f23e1a7343d01a381e7849cdb450f4.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Wy2pbdds8ohup6xYlTScnjRYn6h/"/></p>
<p><img src="img/dfb7a3c22e002d9120862e5ddbe97ff7.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/USGNb8veooEFNFxbLmacwy1qnIf/"/></p>
<p><img src="img/76c253093733d0e315efc28a53d4f741.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/HNKYb8dNFoLB0fxw5TfcnS25nRe/"/></p>
<p><img src="img/a4cbfe5d73a1513966d2dc662ed84ec3.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/W2NGb9f8poUQ5vxDKY3c6Z8pnTb/"/></p>
<p><img src="img/4051db8708dd5f8e5408e868324f8790.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/A1rPb20ZaoUmufxq0EccLPMUnHf/"/></p>
<p>那我想根据我自己的知识库内容来回答问题，要怎么操作？</p>
<p>在知识库这个菜单新建知识库，看到新建时有2个模型选项了吧，在刚刚配置config.json时，我提到向量模型，就是这里的索引模型的选项，没有他知识库功能用不了哦。如图</p>
<p><img src="img/a7a5423281ab0a9b7df3e2459d6750b5.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/ByhLbWgM3o1mZIxdxz4cdIGXnhc/"/></p>
<p>然后我们上传文件或者写入信息都是可以的，我示范下，最后文本状态是“已就绪”就是OK了，我们去验证下</p>
<p><img src="img/d565f25843774f0e8cac93297f3a649a.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Vcmwb2ZLLoqH2ixTYECc8urqnrA/"/></p>
<p><img src="img/f835c3b764d33925b74ab853054972f3.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/OxRyboP8kojDSAxCyz9cgKPgnVg/"/></p>
<p><img src="img/8d14515696e415b1de2e9b3aaaac7695.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/US6vbdxTdociHtx0w5Wc1k12nAb/"/></p>
<p><img src="img/50d2034dfffb4d7267ce7bbec2275e1c.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/HMavbXXIKohtsoxIRiWcOfINnKg/"/></p>
<p><img src="img/4fd94c8412700284020eb0791a0444cb.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/AIgcbRu2Rob7vyxV2oGcgeHHn5g/"/></p>
<p><img src="img/8458d5807d4a70b09a5df1eee7c38cca.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/E0vrbD771odI1axS84wcs3Qbnbc/"/></p>
<p><img src="img/9f8898850d5a2bca78e2ad599e645d3a.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Z1GhbI630o1AddxTat2cmFlFnLg/"/></p>
<h2>搭建chatgpt-on-wechat接入微信</h2>
<p><img src="img/8ce96233604ae43e00dc959c4965925a.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/HydrbajBzoFSMuxD5ZfcXKfrnqg/"/></p>
<p>注: 如遇到网络问题，可把链接替换为国内镜像 https://gitee.com/zhayujie/chatgpt-on-wechat</p>
<p>能够使用itchat创建机器人，并具有文字交流功能所需的最小依赖集合。</p>
<p><img src="img/9d0ecb6a508022b6dcc51661a96837b9.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/NicibrSVmob7Q9xCPJTcb7rlnVm/"/></p>
<p>如果某项依赖安装失败，可重新执行再继续</p>
<p><img src="img/9b8a21b6b738380741d310660da7dd40.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/QAY8bkZKzo2Mjhxry7gcJz8Unkb/"/></p>
<p>返回扫描执行命令后，“终端”内的二维码，就完成登录成功了。</p>
<p><img src="img/ee1389008d81d8a87b751cfe1a7b6209.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/WZPybQ4p3oxIyDx1unacL8Cmn6b/"/></p>
<p><img src="img/55fc479f7a30604b4486f5860506d758.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/SP3obZQ4woPFFdxq1vPciGttnFf/"/></p>